<% layout("layouts/boilerplate") %>
<div class="position-relative">
<% if (!category) { %>
  <div id="filters" class="d-flex overflow-auto gap-3 py-2 px-3 category-scroll">
    <a href="/listings?category=Trending" class="filter text-center flex-shrink-0">
      <div><i class="fa-solid fa-fire fa-1x"></i></div>
      <p class="mb-0">Trending</p>
    </a>
    <a href="/listings?category=Mountains" class="filter text-center flex-shrink-0">
      <div><i class="fa-solid fa-mountain fa-1x"></i></div>
      <p class="mb-0">Mountain</p>
    </a>
    <a href="/listings?category=Rooms" class="filter text-center flex-shrink-0">
      <div><i class="fa-solid fa-bed fa-1x"></i></div>
      <p class="mb-0">Rooms</p>
    </a>
    <a href="/listings?category=Iconic Cities" class="filter text-center flex-shrink-0">
      <div><i class="fa-solid fa-mountain-city fa-1x"></i></div>
      <p class="mb-0">Iconic Cities</p>
    </a>
    <a href="/listings?category=Farms" class="filter text-center flex-shrink-0">
      <div><i class="fa-solid fa-tractor fa-1x"></i></div>
      <p class="mb-0">Farms</p>
    </a>
    <a href="/listings?category=Castles" class="filter text-center flex-shrink-0">
      <div><i class="fa-regular fa-chess-rook fa-1x"></i></div>
      <p class="mb-0">Castles</p>
    </a>
    <a href="/listings?category=Camping" class="filter text-center flex-shrink-0">
      <div><i class="fa-solid fa-campground fa-1x"></i></div>
      <p class="mb-0">Camping</p>
    </a>
    <a href="/listings?category=Arctic" class="filter text-center flex-shrink-0">
      <div><i class="fa-solid fa-snowflake fa-1x"></i></div>
      <p class="mb-0">Arctic</p>
    </a>
    <a href="/listings?category=Amazing Pools" class="filter text-center flex-shrink-0">
      <div><i class="fa-solid fa-person-swimming fa-1x"></i></div>
      <p class="mb-0">Amazing Pools</p>
    </a>
   


        <!--toggle-->
         <!-- Fixed toggle (not part of scrolling) -->
         <div id="toggle-switch" class="position-absolute top-50 end-0 translate-middle-y pe-3 ">
          <div class="form-check-reverse form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
            <label class="form-check-label mb-0" for="switchCheckDefault">Final Amount</label>
          </div>
        </div>
</div>
<% } %>
</div>


<% if (category) { %>
  <a href="/listings" class="btn edit-btn mb-3 mt-3">‚Üê Show All Listings</a>
  <h4 class="mb-3">Showing results for: <%= category %></h4>
<% } %>




   <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3" >
   
    <%  for(let listing of allListings){ %>
        <a href="/listings/<%= listing._id %>" class="listing-link">
        <div class="card col listing-card" >
            <img src="<%= listing.image.url %>" class="card-img-top"  style="height: 20rem;" alt="listing-image">
            <div class="card-img-overlay"></div>
            <div class="card-body">
              <p class="card-text">
                <b><%= listing.title %></b><br>
                &#8377; <%= listing?.price ? listing.price.toLocaleString("en-IN") : "N/A" %> /night<br>
                <i class="tax-info"> After tax charges : +18% GST</i>
            </p>
            </div>
          </div>
          </a>
          <% } %>
    
   </div>
   <hr>
   <section class="container my-5">
    <h2 class="text-center mb-4" >Explore Top Destinations</h2>
    <br>
    <div class="row g-4">
  
      <!-- Card 1 -->
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="explore-card text-center p-3 shadow-sm rounded">
          <img src="https://images.unsplash.com/photo-1542224566-6e85f2e6772f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fG1vdW50YWluc3xlbnwwfHwwfHx8MA%3D%3D" class="explore-img mb-3" alt="Mountains">
          <h5 class="explore-title">Mountains</h5>
          <p class="explore-text">Breathe in the serene heights of the Himalayas.</p>
        </div>
      </div>
  
      <!-- Card 2 -->
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="explore-card text-center p-3 shadow-sm rounded">
          <img src="https://images.unsplash.com/photo-1564078516393-cf04bd966897?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8cm9vbXN8ZW58MHx8MHx8fDA%3D" class="explore-img mb-3" alt="Rooms">
          <h5 class="explore-title">Rooms</h5>
          <p class="explore-text">Find comfort in world-class stays everywhere.</p>
        </div>
      </div>
  
      <!-- Card 3 -->
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="explore-card text-center p-3 shadow-sm rounded">
          <img src="https://images.unsplash.com/photo-1593224599365-407b2fd72ca7?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fGJlYWNoZXN8ZW58MHx8MHx8fDA%3D" class="explore-img mb-3" alt="Beaches">
          <h5 class="explore-title">Beaches</h5>
          <p class="explore-text">Soak up the sun on exotic tropical coasts.</p>
        </div>
      </div>
  
      <!-- Card 4 -->
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="explore-card text-center p-3 shadow-sm rounded">
          <img src="https://images.unsplash.com/photo-1536846118400-dc03751fd172?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8YXJjdGljfGVufDB8fDB8fHww" class="explore-img mb-3" alt="Arctic">
          <h5 class="explore-title">Arctic</h5>
          <p class="explore-text">Chill with glaciers and witness the Northern Lights.</p>
        </div>
      </div>
  
      <!-- Card 5 -->
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="explore-card text-center p-3 shadow-sm rounded">
          <img src="https://images.unsplash.com/photo-1511739001486-6bfe10ce785f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGFyaXN8ZW58MHx8MHx8fDA%3D" class="explore-img mb-3" alt="Paris">
          <h5 class="explore-title">Paris</h5>
          <p class="explore-text">Discover art, fashion, and romance in the City of Light.</p>
          
        </div>
      </div>
  
      <!-- Card 6 -->
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="explore-card text-center p-3 shadow-sm rounded">
          <img src="https://media.istockphoto.com/id/497891792/photo/seljalandsfoss-waterfall-against-the-sun-south-iceland.webp?a=1&b=1&s=612x612&w=0&k=20&c=zBGA6TSrAqTfjth5vZ4wAq5Z6U6bJhnWTsaeIeYKH7A=" class="explore-img mb-3" alt="Waterfalls">
          <h5 class="explore-title">Waterfalls</h5>
          <p class="explore-text">Feel the thrill of cascading natural wonders.</p>
        </div>
      </div>
  
    </div>
  </section>
  
   <hr>

   <section class="container my-5">
    <h2 class="mb-4 text-center faq-title">Frequently Asked Questions</h2>
  
    <div class="accordion" id="wanderlustFaq">
  
      <!-- Q1 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q1">
          <button class="accordion-button faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a1">
            What is Wanderlust?
          </button>
        </h2>
        <div id="a1" class="accordion-collapse collapse show" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            <span class="text-highlight">Wanderlust</span> is a travel platform that helps you discover, plan, and book dream vacations with ease.
          </div>
        </div>
      </div>
  
      <!-- Q2 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q2">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a2">
            How do I book a trip with Wanderlust?
          </button>
        </h2>
        <div id="a2" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            Simply browse destinations, select a package, choose dates, and make your payment securely online.
          </div>
        </div>
      </div>
  
      <!-- Q3 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q3">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a3">
            Are your packages all-inclusive?
          </button>
        </h2>
        <div id="a3" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            Most packages include accommodation, transport, and guided tours. Check individual packages for exact inclusions.
          </div>
        </div>
      </div>
  
      <!-- Q4 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q4">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a4">
            Can I customize my itinerary?
          </button>
        </h2>
        <div id="a4" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            Yes! Most packages allow customizations such as changing hotels, extending your stay, or adding extra activities.
          </div>
        </div>
      </div>
  
      <!-- Q5 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q5">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a5">
            Do you offer group or corporate bookings?
          </button>
        </h2>
        <div id="a5" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            Absolutely! We offer special rates and dedicated support for group tours, family trips, and corporate events.
          </div>
        </div>
      </div>
  
      <!-- Q6 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q6">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a6">
            Is travel insurance included?
          </button>
        </h2>
        <div id="a6" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            Some packages include insurance. You can also opt-in for comprehensive travel insurance during checkout.
          </div>
        </div>
      </div>
  
      <!-- Q7 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q7">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a7">
            Are your tours safe for solo travelers?
          </button>
        </h2>
        <div id="a7" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            Yes! We ensure safety and provide support throughout. Many solo travelers book with us and enjoy group experiences.
          </div>
        </div>
      </div>
  
      <!-- Q8 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q8">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a8">
            What payment methods are accepted?
          </button>
        </h2>
        <div id="a8" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            We accept credit/debit cards, UPI, net banking, and EMI on select banks. International cards are also supported.
          </div>
        </div>
      </div>
  
      <!-- Q9 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q9">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a9">
            Do you assist with visa processing?
          </button>
        </h2>
        <div id="a9" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            Yes, we offer visa assistance and guidance for international trips, including documentation and appointment scheduling.
          </div>
        </div>
      </div>
  
      <!-- Q10 -->
      <div class="accordion-item border-0">
        <h2 class="accordion-header" id="q10">
          <button class="accordion-button collapsed faq-question" type="button" data-bs-toggle="collapse" data-bs-target="#a10">
            What if I need to cancel or reschedule?
          </button>
        </h2>
        <div id="a10" class="accordion-collapse collapse" data-bs-parent="#wanderlustFaq">
          <div class="accordion-body">
            We offer flexible cancellation policies depending on the package. You can reschedule or cancel through your dashboard or contact support.
          </div>
        </div>
      </div>
  
    </div>
  </section>
 
  

   <script>

    const toggleSwitch = document.getElementById("toggle-switch");

    toggleSwitch.addEventListener("click" ,()=>{
      const taxInfos = document.querySelectorAll(".tax-info");

   taxInfos.forEach((taxInfo) => {
   if (taxInfo.style.display !== "inline") {
    taxInfo.style.display = "inline";
    taxInfo.style.color = "red";
   } else {
    taxInfo.style.display = "none";
   }
});
   
      
    })

   </script>
